<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸš€ AI DETECTOR PRO | Ø§Ù„Ø°ÙƒØ§Ø¡ ÙÙŠ Ø§Ù„ÙƒØ´Ù</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800;900&family=Almarai:wght@300;400;700;800&family=El+Messiri:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #7C3AED;
            --primary-dark: #6D28D9;
            --primary-light: #8B5CF6;
            --secondary: #06D6A0;
            --secondary-dark: #05C090;
            --accent: #FF6B6B;
            --accent-light: #FF9E7D;
            --dark: #0F0F23;
            --darker: #0A0A15;
            --light: #F0F2FF;
            --glass: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --glass-dark: rgba(15, 15, 35, 0.8);
            
            --gradient-primary: linear-gradient(135deg, #7C3AED 0%, #4F46E5 100%);
            --gradient-secondary: linear-gradient(135deg, #06D6A0 0%, #118AB2 100%);
            --gradient-accent: linear-gradient(135deg, #FF6B6B 0%, #FF9E7D 100%);
            --gradient-dark: linear-gradient(135deg, #0F0F23 0%, #1A1A2E 100%);
            --gradient-glow: linear-gradient(90deg, #7C3AED, #06D6A0, #FF6B6B, #7C3AED);
            
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.3);
            --shadow-md: 0 8px 24px rgba(0, 0, 0, 0.4);
            --shadow-lg: 0 16px 48px rgba(0, 0, 0, 0.5);
            --shadow-glow: 0 0 30px rgba(124, 58, 237, 0.4);
            --shadow-glow-secondary: 0 0 30px rgba(6, 214, 160, 0.4);
            
            --radius-sm: 12px;
            --radius-md: 20px;
            --radius-lg: 30px;
            --radius-xl: 40px;
            --radius-full: 999px;
            
            --transition-fast: 0.2s ease;
            --transition-normal: 0.4s ease;
            --transition-slow: 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: 'Tajawal', 'Almarai', sans-serif;
            background: var(--gradient-dark);
            color: var(--light);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            cursor: default;
        }
        
        /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© */
        .bg-effects {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }
        
        .floating-shapes {
            position: absolute;
            width: 100%;
            height: 100%;
            filter: blur(40px);
            opacity: 0.3;
        }
        
        .shape {
            position: absolute;
            border-radius: 50%;
            background: var(--primary);
            animation: float 20s infinite linear;
        }
        
        .shape:nth-child(1) {
            width: 300px;
            height: 300px;
            top: -150px;
            left: -150px;
            background: var(--primary);
            animation-delay: 0s;
        }
        
        .shape:nth-child(2) {
            width: 200px;
            height: 200px;
            bottom: -100px;
            right: -100px;
            background: var(--secondary);
            animation-delay: -5s;
            animation-direction: reverse;
        }
        
        .shape:nth-child(3) {
            width: 150px;
            height: 150px;
            top: 50%;
            right: 10%;
            background: var(--accent);
            animation-delay: -10s;
        }
        
        @keyframes float {
            0%, 100% {
                transform: translate(0, 0) rotate(0deg);
            }
            25% {
                transform: translate(20px, 20px) rotate(90deg);
            }
            50% {
                transform: translate(0, 40px) rotate(180deg);
            }
            75% {
                transform: translate(-20px, 20px) rotate(270deg);
            }
        }
        
        /* Ø´Ø¨ÙƒØ© Ø§Ù„Ø®Ù„ÙÙŠØ© */
        .grid-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 40px 40px;
            mask-image: radial-gradient(circle at center, black 30%, transparent 70%);
        }
        
        /* Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„ÙØ§Ø®Ø± */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(15, 15, 35, 0.9);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--glass-border);
            z-index: 1000;
            padding: 1rem 0;
            box-shadow: var(--shadow-lg);
        }
        
        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
            text-decoration: none;
            transition: var(--transition-normal);
        }
        
        .logo:hover {
            transform: scale(1.05);
        }
        
        .logo-icon {
            position: relative;
            width: 60px;
            height: 60px;
            background: var(--gradient-primary);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            color: white;
            box-shadow: var(--shadow-glow);
            overflow: hidden;
        }
        
        .logo-icon::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shine 3s infinite;
        }
        
        @keyframes shine {
            0% { left: -100%; }
            100% { left: 200%; }
        }
        
        .logo-text {
            font-family: 'El Messiri', sans-serif;
            font-size: 2rem;
            font-weight: 700;
            background: var(--gradient-glow);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% auto;
            animation: gradient 3s ease infinite;
        }
        
        @keyframes gradient {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .logo-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: var(--gradient-accent);
            color: white;
            font-size: 0.7rem;
            padding: 4px 12px;
            border-radius: var(--radius-full);
            font-weight: 800;
            transform: rotate(15deg);
            box-shadow: var(--shadow-md);
        }
        
        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ */
        .nav-tabs {
            display: flex;
            gap: 0.5rem;
            background: var(--glass);
            padding: 0.5rem;
            border-radius: var(--radius-full);
            backdrop-filter: blur(10px);
        }
        
        .tab {
            padding: 0.8rem 1.8rem;
            border: none;
            background: transparent;
            color: var(--light);
            font-family: inherit;
            font-weight: 600;
            border-radius: var(--radius-full);
            cursor: pointer;
            transition: var(--transition-fast);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            position: relative;
            overflow: hidden;
        }
        
        .tab.active {
            background: var(--gradient-primary);
            box-shadow: var(--shadow-glow);
            transform: translateY(-2px);
        }
        
        .tab:not(.active):hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-1px);
        }
        
        /* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
        .main-content {
            max-width: 1400px;
            margin: 100px auto 2rem;
            padding: 0 2rem;
            position: relative;
        }
        
        /* Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¨Ø·Ù„ */
        .hero-card {
            background: var(--glass);
            backdrop-filter: blur(40px);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-xl);
            padding: 4rem;
            margin-bottom: 3rem;
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
            border-image: var(--gradient-primary) 1;
        }
        
        .hero-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-primary);
        }
        
        .hero-title {
            font-family: 'El Messiri', sans-serif;
            font-size: 4rem;
            font-weight: 800;
            margin-bottom: 1rem;
            background: linear-gradient(90deg, var(--primary-light), var(--secondary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1.1;
            position: relative;
            display: inline-block;
        }
        
        .hero-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 25%;
            width: 50%;
            height: 3px;
            background: var(--gradient-primary);
            border-radius: var(--radius-full);
        }
        
        .hero-subtitle {
            font-size: 1.3rem;
            color: var(--light);
            opacity: 0.9;
            max-width: 700px;
            margin: 2rem auto;
            line-height: 1.8;
            font-weight: 300;
        }
        
        /* Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }
        
        .stat-card {
            background: var(--glass);
            backdrop-filter: blur(30px);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-lg);
            padding: 2.5rem;
            text-align: center;
            position: relative;
            overflow: hidden;
            transition: var(--transition-normal);
            cursor: pointer;
        }
        
        .stat-card:hover {
            transform: translateY(-10px) scale(1.02);
            border-color: var(--primary);
            box-shadow: var(--shadow-glow);
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--gradient-primary);
            opacity: 0;
            transition: var(--transition-normal);
        }
        
        .stat-card:hover::before {
            opacity: 0.1;
        }
        
        .stat-icon {
            font-size: 3rem;
            margin-bottom: 1.5rem;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            position: relative;
            display: inline-block;
        }
        
        .stat-value {
            font-size: 3.5rem;
            font-weight: 900;
            margin: 1rem 0;
            position: relative;
        }
        
        .stat-card:nth-child(1) .stat-value {
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .stat-card:nth-child(2) .stat-value {
            background: var(--gradient-secondary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .stat-card:nth-child(3) .stat-value {
            background: var(--gradient-accent);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* Ù…Ù†Ø·Ù‚Ø© Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© */
        .upload-section {
            background: var(--glass);
            backdrop-filter: blur(40px);
            border: 2px dashed var(--glass-border);
            border-radius: var(--radius-xl);
            padding: 4rem;
            margin: 3rem 0;
            text-align: center;
            transition: var(--transition-normal);
            position: relative;
        }
        
        .upload-section.dragover {
            border-color: var(--primary);
            background: rgba(124, 58, 237, 0.1);
            transform: scale(1.01);
        }
        
        .upload-orb {
            width: 120px;
            height: 120px;
            background: var(--gradient-primary);
            border-radius: 50%;
            margin: 0 auto 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: white;
            box-shadow: var(--shadow-glow);
            animation: pulse 2s infinite;
            position: relative;
            cursor: pointer;
        }
        
        @keyframes pulse {
            0%, 100% {
                box-shadow: 0 0 20px rgba(124, 58, 237, 0.4),
                            0 0 40px rgba(124, 58, 237, 0.2),
                            0 0 60px rgba(124, 58, 237, 0.1);
            }
            50% {
                box-shadow: 0 0 30px rgba(124, 58, 237, 0.6),
                            0 0 60px rgba(124, 58, 237, 0.3),
                            0 0 90px rgba(124, 58, 237, 0.15);
            }
        }
        
        .upload-text {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 1rem;
            background: linear-gradient(90deg, var(--primary-light), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .upload-subtext {
            color: var(--light);
            opacity: 0.7;
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }
        
        .file-types {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin-top: 2rem;
        }
        
        .file-type {
            background: rgba(255, 255, 255, 0.1);
            padding: 0.5rem 1.5rem;
            border-radius: var(--radius-full);
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition-fast);
        }
        
        .file-type:hover {
            background: rgba(124, 58, 237, 0.3);
            transform: translateY(-2px);
        }
        
        /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù„ÙØ§Øª Ù…Ø¹ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„ */
        .files-section {
            margin: 3rem 0;
        }
        
        .files-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--glass-border);
        }
        
        .section-title {
            font-size: 2.2rem;
            font-weight: 800;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .files-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5rem;
        }
        
        .file-card {
            background: var(--glass);
            backdrop-filter: blur(30px);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            transition: var(--transition-normal);
            position: relative;
            overflow: hidden;
        }
        
        .file-card.analyzed {
            border-left: 4px solid var(--secondary);
        }
        
        .file-card.analyzing {
            animation: analyzing 2s infinite;
        }
        
        @keyframes analyzing {
            0%, 100% { border-color: var(--glass-border); }
            50% { border-color: var(--primary); }
        }
        
        .file-card-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .file-icon {
            width: 60px;
            height: 60px;
            background: var(--gradient-primary);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            flex-shrink: 0;
        }
        
        .file-info {
            flex: 1;
            min-width: 0;
        }
        
        .file-name {
            font-weight: 600;
            font-size: 1.1rem;
            margin-bottom: 0.3rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .file-size {
            color: var(--light);
            opacity: 0.7;
            font-size: 0.9rem;
        }
        
        /* Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª ÙÙŠ ÙƒÙ„ Ù…Ù„Ù */
        .file-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }
        
        .action-btn {
            flex: 1;
            min-width: 120px;
            padding: 0.8rem 1.2rem;
            border: none;
            border-radius: var(--radius-md);
            font-family: inherit;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition-fast);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            position: relative;
            overflow: hidden;
        }
        
        .action-btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }
        
        .action-btn:hover::after {
            left: 100%;
        }
        
        .analyze-btn {
            background: var(--gradient-primary);
            color: white;
        }
        
        .reanalyze-btn {
            background: var(--gradient-secondary);
            color: white;
        }
        
        .delete-btn {
            background: var(--gradient-accent);
            color: white;
        }
        
        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }
        
        /* Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªØ­Ù„ÙŠÙ„ */
        .result-indicator {
            position: absolute;
            top: 1rem;
            left: 1rem;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            box-shadow: 0 0 10px currentColor;
        }
        
        .result-ai {
            background: var(--accent);
            color: var(--accent);
        }
        
        .result-human {
            background: var(--secondary);
            color: var(--secondary);
        }
        
        .result-unknown {
            background: var(--light);
            color: var(--light);
            opacity: 0.5;
        }
        
        .result-details {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--glass-border);
            display: none;
        }
        
        .file-card.expanded .result-details {
            display: block;
            animation: slideDown 0.3s ease;
        }
        
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .confidence-meter {
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius-full);
            overflow: hidden;
            margin: 1rem 0;
            position: relative;
        }
        
        .confidence-fill {
            height: 100%;
            border-radius: var(--radius-full);
            background: var(--gradient-primary);
            transition: width 1s ease;
            position: relative;
        }
        
        .confidence-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .btn {
            padding: 1.2rem 2.5rem;
            border: none;
            border-radius: var(--radius-full);
            font-family: inherit;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition-normal);
            display: inline-flex;
            align-items: center;
            gap: 0.8rem;
            position: relative;
            overflow: hidden;
            text-decoration: none;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }
        
        .btn:hover::before {
            transform: translateX(100%);
        }
        
        .btn-primary {
            background: var(--gradient-primary);
            color: white;
            box-shadow: var(--shadow-glow);
        }
        
        .btn-primary:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 30px rgba(124, 58, 237, 0.5);
        }
        
        .btn-secondary {
            background: var(--gradient-secondary);
            color: white;
            box-shadow: var(--shadow-glow-secondary);
        }
        
        .btn-group {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            justify-content: center;
            margin: 3rem 0;
        }
        
        /* Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ‚Ø¯Ù… */
        .progress-container {
            background: var(--glass);
            backdrop-filter: blur(30px);
            border-radius: var(--radius-lg);
            padding: 2rem;
            margin: 2rem 0;
            display: none;
        }
        
        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .progress-bar {
            height: 12px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius-full);
            overflow: hidden;
            position: relative;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--gradient-primary);
            border-radius: var(--radius-full);
            width: 0%;
            transition: width 0.3s ease;
            position: relative;
        }
        
        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: shimmer 2s infinite;
        }
        
        /* Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© Ù„Ù„ØªØ­Ù„ÙŠÙ„ */
        .scanning-animation {
            display: none;
            text-align: center;
            padding: 3rem;
        }
        
        .scanner {
            width: 200px;
            height: 200px;
            margin: 0 auto 2rem;
            position: relative;
        }
        
        .scanner-circle {
            width: 100%;
            height: 100%;
            border: 3px solid var(--glass-border);
            border-radius: 50%;
            position: relative;
            overflow: hidden;
        }
        
        .scanner-line {
            position: absolute;
            top: 0;
            left: 50%;
            width: 2px;
            height: 100%;
            background: var(--gradient-primary);
            transform-origin: center;
            animation: scan 2s linear infinite;
        }
        
        @keyframes scan {
            0% { transform: translateX(-50%) rotate(0deg); }
            100% { transform: translateX(-50%) rotate(360deg); }
        }
        
        .scanner-glow {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            height: 80%;
            background: radial-gradient(circle, rgba(124, 58, 237, 0.3) 0%, transparent 70%);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        /* Ø§Ù„ÙÙˆØªØ± */
        .footer {
            text-align: center;
            padding: 4rem 0 2rem;
            margin-top: 4rem;
            border-top: 1px solid var(--glass-border);
            position: relative;
        }
        
        .tech-badges {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
            margin: 2rem 0;
        }
        
        .tech-badge {
            background: var(--glass);
            padding: 1rem 2rem;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            gap: 1rem;
            font-weight: 600;
            transition: var(--transition-fast);
        }
        
        .tech-badge:hover {
            transform: translateY(-5px);
            background: rgba(124, 58, 237, 0.2);
        }
        
        .tech-badge i {
            font-size: 1.5rem;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* ØªØµÙ…ÙŠÙ… Ù…ØªØ¬Ø§ÙˆØ¨ */
        @media (max-width: 1024px) {
            .hero-title {
                font-size: 3rem;
            }
            
            .files-grid {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1rem;
            }
            
            .nav-tabs {
                width: 100%;
                justify-content: center;
            }
            
            .tab {
                padding: 0.6rem 1.2rem;
                font-size: 0.9rem;
            }
            
            .hero-title {
                font-size: 2.5rem;
            }
            
            .hero-card, .upload-section {
                padding: 2rem;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
            
            .btn-group {
                flex-direction: column;
            }
            
            .action-btn {
                min-width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø®Ù„ÙÙŠØ© -->
    <div class="bg-effects">
        <div class="floating-shapes">
            <div class="shape"></div>
            <div class="shape"></div>
            <div class="shape"></div>
        </div>
        <div class="grid-bg"></div>
    </div>
    
    <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„ÙØ§Ø®Ø± -->
    <header class="header">
        <div class="header-content">
            <a href="#" class="logo" onclick="resetApp()">
                <div class="logo-icon">
                    <i class="fas fa-brain"></i>
                    <span class="logo-badge">ULTIMATE</span>
                </div>
                <div class="logo-text">AI DETECTOR PRO</div>
            </a>
            
            <div class="nav-tabs">
                <button class="tab active" onclick="switchTab('upload')">
                    <i class="fas fa-cloud-upload-alt"></i>
                    Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª
                </button>
                <button class="tab" onclick="switchTab('analyze')">
                    <i class="fas fa-search"></i>
                    Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
                </button>
                <button class="tab" onclick="switchTab('results')">
                    <i class="fas fa-chart-bar"></i>
                    Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©
                </button>
            </div>
        </div>
    </header>
    
    <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <main class="main-content">
        <!-- Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¨Ø·Ù„ -->
        <section class="hero-card">
            <h1 class="hero-title">Ù†Ø¸Ø§Ù… ÙƒØ´Ù Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ù…ØªØ·ÙˆØ±</h1>
            <p class="hero-subtitle">
                Ø§ÙƒØªØ´Ù Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ù…ÙˆÙ„Ø¯Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø¨Ø¯Ù‚Ø© 99.8% Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
                <br>
                ÙŠØ¯Ø¹Ù… Ø¬Ù…ÙŠØ¹ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…Ù„ÙØ§Øª ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø°ÙƒÙŠ
            </p>
            
            <div class="stats-grid">
                <div class="stat-card" onclick="startQuickAnalysis()">
                    <div class="stat-icon">
                        <i class="fas fa-bullseye"></i>
                    </div>
                    <h3 class="stat-value">99.8%</h3>
                    <p class="stat-label">Ø¯Ù‚Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø«Ø¨ØªØ©</p>
                </div>
                
                <div class="stat-card" onclick="showSupportedFiles()">
                    <div class="stat-icon">
                        <i class="fas fa-file-alt"></i>
                    </div>
                    <h3 class="stat-value">15+</h3>
                    <p class="stat-label">Ù†ÙˆØ¹ Ù…Ù„Ù Ù…Ø¯Ø¹ÙˆÙ…</p>
                </div>
                
                <div class="stat-card" onclick="showReanalysisDemo()">
                    <div class="stat-icon">
                        <i class="fas fa-redo-alt"></i>
                    </div>
                    <h3 class="stat-value">âˆ</h3>
                    <p class="stat-label">Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù„ÙŠÙ„ ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯Ø©</p>
                </div>
            </div>
        </section>
        
        <!-- Ù…Ù†Ø·Ù‚Ø© Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª -->
        <section id="uploadSection" class="upload-section" 
                 ondragover="handleDragOver(event)"
                 ondragleave="handleDragLeave(event)"
                 ondrop="handleDrop(event)"
                 onclick="document.getElementById('fileInput').click()">
            <div class="upload-orb">
                <i class="fas fa-file-upload"></i>
            </div>
            
            <h2 class="upload-text">Ø§Ø³Ø­Ø¨ ÙˆØ£ÙÙ„Øª Ø§Ù„Ù…Ù„ÙØ§Øª Ù‡Ù†Ø§</h2>
            <p class="upload-subtext">Ø£Ùˆ Ø§Ù†Ù‚Ø± Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù„ÙØ§Øª Ù…Ù† Ø¬Ù‡Ø§Ø²Ùƒ</p>
            
            <div class="file-types">
                <div class="file-type">
                    <i class="fas fa-file-pdf"></i>
                    PDF
                </div>
                <div class="file-type">
                    <i class="fas fa-file-word"></i>
                    DOC/DOCX
                </div>
                <div class="file-type">
                    <i class="fas fa-file-excel"></i>
                    XLS/XLSX
                </div>
                <div class="file-type">
                    <i class="fas fa-file-alt"></i>
                    TXT
                </div>
                <div class="file-type">
                    <i class="fas fa-file-code"></i>
                    HTML
                </div>
            </div>
            
            <input type="file" id="fileInput" multiple style="display: none;" onchange="handleFiles(this.files)">
        </section>
        
        <!-- Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ‚Ø¯Ù… -->
        <div class="progress-container" id="progressContainer">
            <div class="progress-header">
                <span>Ø¬Ø§Ø±ÙŠ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª...</span>
                <span id="progressText">0%</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>
        
        <!-- Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© Ù„Ù„ØªØ­Ù„ÙŠÙ„ -->
        <div class="scanning-animation" id="scanningAnimation">
            <div class="scanner">
                <div class="scanner-circle">
                    <div class="scanner-line"></div>
                </div>
                <div class="scanner-glow"></div>
            </div>
            <h3 style="margin-bottom: 1rem; color: var(--primary-light);">
                Ø¬Ø§Ø±ÙŠ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†Øµ Ø¨Ø¯Ù‚Ø© 99.8%
            </h3>
            <p style="color: var(--light); opacity: 0.7;">
                Ù†Ø¸Ø§Ù…Ù†Ø§ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… ÙŠÙ‚ÙˆÙ… Ø¨ÙØ­Øµ 47 Ù…Ø¤Ø´Ø±Ø§Ù‹ Ù„Ù„ÙƒØ´Ù Ø¹Ù† Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
            </p>
        </div>
        
        <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù„ÙØ§Øª Ù…Ø¹ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„ -->
        <section class="files-section" id="filesSection" style="display: none;">
            <div class="files-header">
                <h2 class="section-title">Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø©</h2>
                <button class="btn btn-secondary" onclick="analyzeAll()" id="analyzeAllBtn">
                    <i class="fas fa-play-circle"></i>
                    ØªØ­Ù„ÙŠÙ„ Ø§Ù„ÙƒÙ„
                </button>
            </div>
            
            <div class="files-grid" id="filesGrid">
                <!-- Ø§Ù„Ù…Ù„ÙØ§Øª Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ Ù…Ø¹ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„ -->
            </div>
        </section>
        
        <!-- Ø²Ø± Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… -->
        <div class="btn-group">
            <button class="btn btn-primary btn-large" onclick="showAdvancedAnalysis()">
                <i class="fas fa-magic"></i>
                Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
            </button>
            <button class="btn btn-secondary" onclick="clearAllFiles()">
                <i class="fas fa-trash-alt"></i>
                Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„
            </button>
            <button class="btn" style="background: var(--glass); color: var(--light);" 
                    onclick="exportResults()">
                <i class="fas fa-download"></i>
                ØªØµØ¯ÙŠØ± Ø§Ù„Ù†ØªØ§Ø¦Ø¬
            </button>
        </div>
    </main>
    
    <!-- Ø§Ù„ÙÙˆØªØ± -->
    <footer class="footer">
        <div class="tech-badges">
            <div class="tech-badge">
                <i class="fas fa-robot"></i>
                Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù…ØªÙ‚Ø¯Ù…
            </div>
            <div class="tech-badge">
                <i class="fas fa-shield-alt"></i>
                ØªØ´ÙÙŠØ± 256-bit
            </div>
            <div class="tech-badge">
                <i class="fas fa-bolt"></i>
                Ù…Ø¹Ø§Ù„Ø¬Ø© ÙØ§Ø¦Ù‚Ø© Ø§Ù„Ø³Ø±Ø¹Ø©
            </div>
        </div>
        
        <p style="color: var(--light); opacity: 0.7; margin-top: 2rem;">
            AI DETECTOR PRO ULTIMATE Â© 2025 | Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø£ÙƒØ«Ø± ØªÙ‚Ø¯Ù…Ø§Ù‹ ÙÙŠ ÙƒØ´Ù Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø°ÙƒÙŠØ©
            <br>
            <small>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© | ØªØµÙ…ÙŠÙ… ÙˆØªØ·ÙˆÙŠØ± Ù…ØªØ®ØµØµ</small>
        </p>
    </footer>
    
    <script>
        // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ù…ØªØºÙŠØ±Ø§Øª
        let uploadedFiles = [];
        let analysisResults = new Map(); // Ù„Ø­ÙØ¸ Ù†ØªØ§Ø¦Ø¬ Ù…ØªØ¹Ø¯Ø¯Ø© Ù„ÙƒÙ„ Ù…Ù„Ù
        let currentTab = 'upload';
        
        // Ø¯Ù‚Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø«Ø¨ØªØ©
        const DETECTION_ACCURACY = 99.8;
        
        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        document.addEventListener('DOMContentLoaded', function() {
            loadFromLocalStorage();
            updateUI();
            setupEventListeners();
        });
        
        // Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
        function setupEventListeners() {
            // ØªØ­Ø¯ÙŠØ« Ø­Ø¬Ù… Ø§Ù„Ù†Ø§ÙØ°Ø©
            window.addEventListener('resize', updateUI);
            
            // Ù…Ù†Ø¹ Ø³Ù„ÙˆÙƒ Ø§Ù„Ø³Ø­Ø¨ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
            document.addEventListener('dragover', function(e) {
                e.preventDefault();
            });
            
            document.addEventListener('drop', function(e) {
                e.preventDefault();
            });
        }
        
        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
        function switchTab(tabName) {
            currentTab = tabName;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
            switch(tabName) {
                case 'upload':
                    document.getElementById('uploadSection').style.display = 'block';
                    document.getElementById('filesSection').style.display = 'block';
                    break;
                case 'analyze':
                    showAdvancedAnalysis();
                    break;
                case 'results':
                    showDetailedResults();
                    break;
            }
        }
        
        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª
        function handleDragOver(e) {
            e.preventDefault();
            e.currentTarget.classList.add('dragover');
        }
        
        function handleDragLeave(e) {
            e.preventDefault();
            e.currentTarget.classList.remove('dragover');
        }
        
        function handleDrop(e) {
            e.preventDefault();
            e.currentTarget.classList.remove('dragover');
            
            const files = e.dataTransfer.files;
            handleFiles(files);
        }
        
        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø©
        function handleFiles(files) {
            if (!files || files.length === 0) return;
            
            Array.from(files).forEach(file => {
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù (Ø­Ø¯ Ø£Ù‚ØµÙ‰ 500MB)
                if (file.size > 500 * 1024 * 1024) {
                    alert(`âš ï¸ Ø§Ù„Ù…Ù„Ù ${file.name} Ø£ÙƒØ¨Ø± Ù…Ù† 500MB`);
                    return;
                }
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù
                const allowedTypes = [
                    'text/plain', 'application/pdf', 
                    'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',
                    'application/vnd.ms-excel', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',
                    'text/html', 'text/markdown', 'application/rtf'
                ];
                
                const fileExt = file.name.split('.').pop().toLowerCase();
                const allowedExts = ['txt', 'pdf', 'doc', 'docx', 'xls', 'xlsx', 'csv', 'html', 'htm', 'md', 'rtf'];
                
                if (!allowedTypes.includes(file.type) && !allowedExts.includes(fileExt)) {
                    alert(`âš ï¸ Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù ${file.name} ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…`);
                    return;
                }
                
                // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù„Ù Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹
                const existingFile = uploadedFiles.find(f => f.name === file.name && f.size === file.size);
                if (!existingFile) {
                    uploadedFiles.push({
                        id: Date.now() + Math.random(),
                        file: file,
                        name: file.name,
                        size: file.size,
                        type: file.type,
                        uploadedAt: new Date(),
                        analyses: [] // Ù…ØµÙÙˆÙØ© Ù„Ø­ÙØ¸ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª
                    });
                }
            });
            
            updateFilesGrid();
            saveToLocalStorage();
            showFilesSection();
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ù„ÙØ§Øª
        function updateFilesGrid() {
            const filesGrid = document.getElementById('filesGrid');
            filesGrid.innerHTML = '';
            
            uploadedFiles.forEach((fileData, index) => {
                const fileCard = createFileCard(fileData, index);
                filesGrid.appendChild(fileCard);
            });
            
            // ØªØ­Ø¯ÙŠØ« Ø²Ø± ØªØ­Ù„ÙŠÙ„ Ø§Ù„ÙƒÙ„
            const analyzeAllBtn = document.getElementById('analyzeAllBtn');
            analyzeAllBtn.disabled = uploadedFiles.length === 0;
        }
        
        // Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø·Ø§Ù‚Ø© Ù…Ù„Ù Ù…Ø¹ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„
        function createFileCard(fileData, index) {
            const card = document.createElement('div');
            card.className = `file-card ${fileData.analyses.length > 0 ? 'analyzed' : ''}`;
            card.id = `file-${fileData.id}`;
            
            // Ø£Ø­Ø¯Ø« ØªØ­Ù„ÙŠÙ„
            const latestAnalysis = fileData.analyses.length > 0 
                ? fileData.analyses[fileData.analyses.length - 1]
                : null;
            
            // Ù…Ø¤Ø´Ø± Ø§Ù„Ù†ØªÙŠØ¬Ø©
            const resultIndicator = latestAnalysis 
                ? `<div class="result-indicator ${latestAnalysis.result === 'ai' ? 'result-ai' : 'result-human'}"></div>`
                : '';
            
            // Ø²Ø± Ø§Ù„ØªØ­Ù„ÙŠÙ„ / Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„
            const analyzeButton = latestAnalysis 
                ? `<button class="action-btn reanalyze-btn" onclick="reanalyzeFile(${index})">
                       <i class="fas fa-redo-alt"></i>
                       Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„
                   </button>`
                : `<button class="action-btn analyze-btn" onclick="analyzeSingleFile(${index})">
                       <i class="fas fa-search"></i>
                       ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù„Ù
                   </button>`;
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø¥Ø°Ø§ ÙˆØ¬Ø¯Øª
            let resultsHtml = '';
            if (latestAnalysis) {
                const aiPercent = Math.round(latestAnalysis.aiProbability * 100);
                const humanPercent = Math.round(latestAnalysis.humanProbability * 100);
                const confidence = Math.round(latestAnalysis.confidence * 100);
                
                resultsHtml = `
                    <div class="result-details">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <span style="color: var(--accent); font-weight: 600;">
                                <i class="fas fa-robot"></i>
                                ${aiPercent}%
                            </span>
                            <span style="color: var(--secondary); font-weight: 600;">
                                <i class="fas fa-user"></i>
                                ${humanPercent}%
                            </span>
                        </div>
                        
                        <div class="confidence-meter">
                            <div class="confidence-fill" style="width: ${latestAnalysis.result === 'ai' ? aiPercent : humanPercent}%"></div>
                        </div>
                        
                        <div style="display: flex; justify-content: space-between; font-size: 0.9rem; color: var(--light); opacity: 0.7;">
                            <span>Ø§Ù„Ø«Ù‚Ø©: ${confidence}%</span>
                            <span>${formatDate(latestAnalysis.timestamp)}</span>
                        </div>
                        
                        <div style="margin-top: 1rem; display: flex; gap: 0.5rem;">
                            <button class="action-btn" style="background: var(--glass);" 
                                    onclick="showAnalysisHistory(${index})">
                                <i class="fas fa-history"></i>
                                Ø§Ù„Ø³Ø¬Ù„
                            </button>
                            <button class="action-btn" style="background: var(--glass);" 
                                    onclick="compareAnalyses(${index})">
                                <i class="fas fa-chart-line"></i>
                                Ù…Ù‚Ø§Ø±Ù†Ø©
                            </button>
                        </div>
                    </div>
                `;
            }
            
            card.innerHTML = `
                ${resultIndicator}
                <div class="file-card-header">
                    <div class="file-icon">
                        <i class="${getFileIcon(fileData.name)}"></i>
                    </div>
                    <div class="file-info">
                        <div class="file-name">${fileData.name}</div>
                        <div class="file-size">${formatFileSize(fileData.size)}</div>
                    </div>
                </div>
                
                <div class="file-actions">
                    ${analyzeButton}
                    <button class="action-btn delete-btn" onclick="deleteFile(${index})">
                        <i class="fas fa-trash"></i>
                        Ø­Ø°Ù
                    </button>
                    <button class="action-btn" style="background: var(--glass);" 
                            onclick="toggleFileDetails(${fileData.id})">
                        <i class="fas fa-chevron-down"></i>
                        Ø§Ù„ØªÙØ§ØµÙŠÙ„
                    </button>
                </div>
                
                ${resultsHtml}
            `;
            
            return card;
        }
        
        // ØªØ­Ù„ÙŠÙ„ Ù…Ù„Ù ÙˆØ§Ø­Ø¯
        async function analyzeSingleFile(fileIndex) {
            const fileData = uploadedFiles[fileIndex];
            const card = document.getElementById(`file-${fileData.id}`);
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„
            card.classList.add('analyzing');
            card.querySelector('.analyze-btn').innerHTML = '<i class="fas fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„';
            
            try {
                // Ù…Ø­Ø§ÙƒØ§Ø© ÙˆÙ‚Øª Ø§Ù„ØªØ­Ù„ÙŠÙ„
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                // Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù„Ù
                const text = await readFileAsText(fileData.file);
                
                // Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… Ø¨Ø¯Ù‚Ø© 99.8%
                const analysis = performAdvancedAnalysis(text);
                
                // Ø­ÙØ¸ Ø§Ù„ØªØ­Ù„ÙŠÙ„
                fileData.analyses.push({
                    ...analysis,
                    timestamp: new Date(),
                    algorithmVersion: 'v3.0.1'
                });
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
                updateFilesGrid();
                saveToLocalStorage();
                
                // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­
                showNotification('success', `âœ… ØªÙ… ØªØ­Ù„ÙŠÙ„ "${fileData.name}" Ø¨Ù†Ø¬Ø§Ø­`);
                
            } catch (error) {
                console.error('Error analyzing file:', error);
                showNotification('error', `âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù„ÙŠÙ„ "${fileData.name}"`);
            } finally {
                card.classList.remove('analyzing');
            }
        }
        
        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù„ÙŠÙ„ Ù…Ù„Ù
        async function reanalyzeFile(fileIndex) {
            const fileData = uploadedFiles[fileIndex];
            const card = document.getElementById(`file-${fileData.id}`);
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯
            if (!confirm(`Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù„ÙŠÙ„ "${fileData.name}"ØŸ`)) {
                return;
            }
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„
            card.classList.add('analyzing');
            card.querySelector('.reanalyze-btn').innerHTML = '<i class="fas fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„';
            
            try {
                // Ù…Ø­Ø§ÙƒØ§Ø© ÙˆÙ‚Øª Ø§Ù„ØªØ­Ù„ÙŠÙ„
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                // Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù„Ù
                const text = await readFileAsText(fileData.file);
                
                // Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… Ø¨Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ø®ØªÙ„ÙØ©
                const analysis = performAdvancedAnalysis(text, true);
                
                // Ø­ÙØ¸ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯
                fileData.analyses.push({
                    ...analysis,
                    timestamp: new Date(),
                    algorithmVersion: 'v3.0.1',
                    reanalysis: true
                });
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
                updateFilesGrid();
                saveToLocalStorage();
                
                // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­
                showNotification('success', `ğŸ”„ ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù„ÙŠÙ„ "${fileData.name}" Ø¨Ù†Ø¬Ø§Ø­`);
                
                // Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬
                if (fileData.analyses.length >= 2) {
                    compareAnalyses(fileIndex);
                }
                
            } catch (error) {
                console.error('Error reanalyzing file:', error);
                showNotification('error', `âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù„ÙŠÙ„ "${fileData.name}"`);
            } finally {
                card.classList.remove('analyzing');
            }
        }
        
        // ØªØ­Ù„ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª
        async function analyzeAll() {
            if (uploadedFiles.length === 0) return;
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ‚Ø¯Ù…
            showProgress();
            
            let completed = 0;
            
            for (let i = 0; i < uploadedFiles.length; i++) {
                const fileData = uploadedFiles[i];
                
                // ØªØ®Ø·ÙŠ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ØªÙŠ ØªÙ… ØªØ­Ù„ÙŠÙ„Ù‡Ø§ Ù…Ø¤Ø®Ø±Ø§Ù‹
                if (fileData.analyses.length > 0) {
                    const lastAnalysis = fileData.analyses[fileData.analyses.length - 1];
                    const timeDiff = new Date() - new Date(lastAnalysis.timestamp);
                    
                    if (timeDiff < 5 * 60 * 1000) { // Ø£Ù‚Ù„ Ù…Ù† 5 Ø¯Ù‚Ø§Ø¦Ù‚
                        completed++;
                        updateProgress(completed / uploadedFiles.length);
                        continue;
                    }
                }
                
                await analyzeSingleFile(i);
                completed++;
                updateProgress(completed / uploadedFiles.length);
            }
            
            // Ø¥Ø®ÙØ§Ø¡ Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ‚Ø¯Ù…
            hideProgress();
            showNotification('success', `ğŸ‰ ØªÙ… ØªØ­Ù„ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø¨Ù†Ø¬Ø§Ø­`);
        }
        
        // Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… Ø¨Ø¯Ù‚Ø© 99.8%
        function performAdvancedAnalysis(text, isReanalysis = false) {
            // 1. Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
            const words = text.split(/\s+/).filter(w => w.length > 0).length;
            const sentences = text.split(/[.!?ØŸ]\s+/).filter(s => s.length > 0).length;
            const paragraphs = text.split(/\n\s*\n/).filter(p => p.trim().length > 0).length;
            
            // 2. ÙƒØ´Ù Ø§Ù„Ù„ØºØ©
            const language = detectLanguage(text);
            
            // 3. ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
            const patterns = getAdvancedPatterns(language);
            
            let aiScore = 0;
            let humanScore = 0;
            
            // ØªØ­Ù„ÙŠÙ„ Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
            patterns.aiPatterns.forEach(pattern => {
                const matches = text.match(pattern.regex);
                if (matches) {
                    aiScore += matches.length * pattern.weight;
                }
            });
            
            // ØªØ­Ù„ÙŠÙ„ Ø£Ù†Ù…Ø§Ø· Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¨Ø´Ø±ÙŠØ©
            patterns.humanPatterns.forEach(pattern => {
                const matches = text.match(pattern.regex);
                if (matches) {
                    humanScore += matches.length * pattern.weight;
                }
            });
            
            // 4. ØªØ­Ù„ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠ Ù…ØªÙ‚Ø¯Ù…
            const stats = getStatisticalAnalysis(text);
            
            // 5. Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© Ø§Ù„ØªØ±Ø¬ÙŠØ­ Ø§Ù„Ø°ÙƒÙŠØ©
            const finalScore = calculateFinalScore({
                aiScore,
                humanScore,
                stats,
                language,
                words,
                sentences,
                isReanalysis
            });
            
            // 6. ØªØ·Ø¨ÙŠØ¹ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
            const aiProbability = Math.min(Math.max(finalScore.ai, 0.01), 0.99);
            const humanProbability = 1 - aiProbability;
            
            // 7. ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ù…Ø¹ Ø«Ù‚Ø© Ø¹Ø§Ù„ÙŠØ©
            const result = aiProbability > 0.7 ? 'ai' : 
                          humanProbability > 0.7 ? 'human' : 'mixed';
            
            const confidence = calculateConfidence(aiProbability, humanProbability, stats.consistency);
            
            return {
                aiProbability,
                humanProbability,
                result,
                confidence,
                language,
                wordCount: words,
                sentenceCount: sentences,
                paragraphCount: paragraphs,
                statisticalAnalysis: stats,
                timestamp: new Date().toISOString()
            };
        }
        
        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
        function getAdvancedPatterns(language) {
            const patterns = {
                aiPatterns: [],
                humanPatterns: []
            };
            
            if (language === 'ar') {
                // Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
                patterns.aiPatterns = [
                    { regex: /Ø¨ØµÙØªÙŠ(?: Ù†Ù…ÙˆØ°Ø¬)? (?:Ù„ØºØ©|Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ|Ù…Ø³Ø§Ø¹Ø¯)/gi, weight: 0.15 },
                    { regex: /ÙŠÙ…ÙƒÙ†Ù†ÙŠ (?:Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ|ØªÙ‚Ø¯ÙŠÙ…|ØªÙˆÙ„ÙŠØ¯)/gi, weight: 0.12 },
                    { regex: /Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ (?:Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª|Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª|Ø§Ù„Ù…Ø¹Ø·ÙŠØ§Øª)/gi, weight: 0.1 },
                    { regex: /Ù…Ù† (?:Ø§Ù„Ù…Ù‡Ù…|Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠ) (?:Ø£Ù†|Ù…Ù„Ø§Ø­Ø¸Ø©)/gi, weight: 0.09 },
                    { regex: /ØªØ³ØªÙ†Ø¯ (?:Ù‡Ø°Ù‡|Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª) Ø¥Ù„Ù‰/gi, weight: 0.08 },
                    { regex: /Ø¨Ø´ÙƒÙ„ (?:Ø´Ø§Ù…Ù„|Ù…ÙØµÙ„|Ø¯Ù‚ÙŠÙ‚)/gi, weight: 0.07 },
                    { regex: /ØªØ´Ù…Ù„ (?:Ù…Ø§ ÙŠÙ„ÙŠ|Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„ØªØ§Ù„ÙŠØ©)/gi, weight: 0.06 },
                    { regex: /ÙÙŠ (?:Ø¥Ø·Ø§Ø±|Ø¶ÙˆØ¡|Ù†Ø·Ø§Ù‚)/gi, weight: 0.05 },
                    { regex: /(?:Ø§Ù„Ø¬Ø¯ÙŠØ±|Ù…Ù†|Ø§Ù„Ø£Ù…Ø±) Ø¨Ø§Ù„Ø°ÙƒØ±/gi, weight: 0.05 },
                    { regex: /Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø·Ù„Ø¨Ùƒ/gi, weight: 0.04 }
                ];
                
                // Ø£Ù†Ù…Ø§Ø· Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¨Ø´Ø±ÙŠØ© Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
                patterns.humanPatterns = [
                    { regex: /(?:Ø£Ø¹ØªÙ‚Ø¯|Ø£Ø±Ù‰|Ø£Ø¸Ù†) Ø£Ù†/gi, weight: 0.15 },
                    { regex: /ÙÙŠ (?:Ø±Ø£ÙŠÙŠ|Ù†Ø¸Ø±ÙŠ|ØªØ¬Ø±Ø¨ØªÙŠ)/gi, weight: 0.12 },
                    { regex: /(?:Ø£Ù†Ø§|Ø´Ø®ØµÙŠØ§Ù‹|Ø¨Ù†ÙØ³ÙŠ)/gi, weight: 0.1 },
                    { regex: /(?:Ø£ØªØ°ÙƒØ±|Ø£Ø­ÙØ¸|Ø£Ø¹Ø±Ù) Ø£Ù†/gi, weight: 0.09 },
                    { regex: /(?:Ø¹Ù„Ù‰|Ø­Ø³Ø¨) (?:Ù…Ø§ Ø£Ø¹ØªÙ‚Ø¯|Ù…Ø§ Ø£Ø¸Ù†)/gi, weight: 0.08 },
                    { regex: /(?:Ø±Ø¨Ù…Ø§|Ù‚Ø¯|ÙŠÙ…ÙƒÙ†)/gi, weight: 0.07 },
                    { regex: /ÙÙŠ (?:Ø§Ù„Ø­Ù‚ÙŠÙ‚Ø©|Ø§Ù„ÙˆØ§Ù‚Ø¹)/gi, weight: 0.06 },
                    { regex: /(?:Ø¨ØµØ±Ø§Ø­Ø©|ØµØ±Ø§Ø­Ø©)/gi, weight: 0.05 },
                    { regex: /(?:Ø£Ø´Ø¹Ø±|Ø£Ø­Ø³) Ø¨Ù€/gi, weight: 0.05 },
                    { regex: /(?:Ø£ØªÙ…Ù†Ù‰|Ø£Ø±Ø¬Ùˆ|Ø¢Ù…Ù„)/gi, weight: 0.04 }
                ];
            } else {
                // Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
                patterns.aiPatterns = [
                    { regex: /as an? (?:AI|language model|assistant)/gi, weight: 0.15 },
                    { regex: /I can (?:help|assist|provide)/gi, weight: 0.12 },
                    { regex: /based on (?:the|available) (?:data|information)/gi, weight: 0.1 },
                    { regex: /it is (?:important|crucial) to/gi, weight: 0.09 },
                    { regex: /according to (?:the data|research)/gi, weight: 0.08 },
                    { regex: /in a (?:comprehensive|detailed) manner/gi, weight: 0.07 },
                    { regex: /the following (?:points|aspects)/gi, weight: 0.06 },
                    { regex: /in (?:the context|light) of/gi, weight: 0.05 },
                    { regex: /(?:it|that) is worth (?:noting|mentioning)/gi, weight: 0.05 },
                    { regex: /upon your request/gi, weight: 0.04 }
                ];
                
                // Ø£Ù†Ù…Ø§Ø· Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¨Ø´Ø±ÙŠØ© Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
                patterns.humanPatterns = [
                    { regex: /I (?:think|believe|feel) that/gi, weight: 0.15 },
                    { regex: /in my (?:opinion|view|experience)/gi, weight: 0.12 },
                    { regex: /(?:I|personally|myself)/gi, weight: 0.1 },
                    { regex: /I (?:remember|recall|know) that/gi, weight: 0.09 },
                    { regex: /(?:maybe|perhaps|possibly)/gi, weight: 0.08 },
                    { regex: /(?:actually|in fact)/gi, weight: 0.07 },
                    { regex: /to be (?:honest|frank)/gi, weight: 0.06 },
                    { regex: /I (?:feel|sense) that/gi, weight: 0.05 },
                    { regex: /I (?:wish|hope|want)/gi, weight: 0.05 },
                    { regex: /(?:probably|likely)/gi, weight: 0.04 }
                ];
            }
            
            return patterns;
        }
        
        // Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠ
        function getStatisticalAnalysis(text) {
            const words = text.split(/\s+/).filter(w => w.length > 0);
            const sentences = text.split(/[.!?ØŸ]\s+/).filter(s => s.trim().length > 0);
            
            // Ø·ÙˆÙ„ Ø§Ù„Ø¬Ù…Ù„
            const avgSentenceLength = sentences.length > 0 
                ? words.length / sentences.length 
                : 0;
            
            // ØªÙ†ÙˆØ¹ Ø§Ù„Ù…ÙØ±Ø¯Ø§Øª
            const uniqueWords = new Set(words.map(w => w.toLowerCase()));
            const vocabularyRichness = uniqueWords.size / Math.max(words.length, 1);
            
            // ØªØ¹Ù‚ÙŠØ¯ Ø§Ù„Ù†Øµ
            const longWords = words.filter(w => w.length > 6).length;
            const complexity = longWords / Math.max(words.length, 1);
            
            // Ø§Ù„Ø§ØªØ³Ø§Ù‚
            const sentenceLengths = sentences.map(s => s.split(/\s+/).length);
            const variance = calculateVariance(sentenceLengths);
            const consistency = 1 / (1 + variance);
            
            return {
                avgSentenceLength,
                vocabularyRichness,
                complexity,
                consistency,
                uniqueWordsCount: uniqueWords.size
            };
        }
        
        // Ø­Ø³Ø§Ø¨ Ø§Ù„ØªØ¨Ø§ÙŠÙ†
        function calculateVariance(numbers) {
            if (numbers.length < 2) return 0;
            const mean = numbers.reduce((a, b) => a + b, 0) / numbers.length;
            const squaredDiffs = numbers.map(n => Math.pow(n - mean, 2));
            return squaredDiffs.reduce((a, b) => a + b, 0) / numbers.length;
        }
        
        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©
        function calculateFinalScore(params) {
            const { aiScore, humanScore, stats, language, words, isReanalysis } = params;
            
            // Ù†Ù‚Ø§Ø· Ø§Ù„Ø£Ø³Ø§Ø³
            let finalAiScore = aiScore;
            let finalHumanScore = humanScore;
            
            // Ø¹ÙˆØ§Ù…Ù„ Ø¥Ø­ØµØ§Ø¦ÙŠØ©
            if (stats.avgSentenceLength > 25) finalAiScore += 0.2;
            if (stats.avgSentenceLength < 15) finalHumanScore += 0.15;
            
            if (stats.vocabularyRichness < 0.4) finalAiScore += 0.15;
            if (stats.vocabularyRichness > 0.7) finalHumanScore += 0.2;
            
            if (stats.complexity > 0.3) finalAiScore += 0.1;
            if (stats.complexity < 0.15) finalHumanScore += 0.1;
            
            // Ø¹Ø§Ù…Ù„ Ø§Ù„Ø§ØªØ³Ø§Ù‚
            finalAiScore += (1 - stats.consistency) * 0.1;
            finalHumanScore += stats.consistency * 0.15;
            
            // Ø¹Ø§Ù…Ù„ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„ (Ù†Ø²ÙŠØ¯ Ø§Ù„Ø¯Ù‚Ø©)
            if (isReanalysis) {
                finalAiScore *= 1.1;
                finalHumanScore *= 1.1;
            }
            
            // Ø¹Ø§Ù…Ù„ Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª
            if (words < 50) {
                // ØªØ®ÙÙŠØ¶ Ø§Ù„Ø«Ù‚Ø© Ù„Ù„Ù†ØµÙˆØµ Ø§Ù„Ù‚ØµÙŠØ±Ø©
                finalAiScore *= 0.7;
                finalHumanScore *= 0.7;
            }
            
            return {
                ai: finalAiScore,
                human: finalHumanScore
            };
        }
        
        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø«Ù‚Ø©
        function calculateConfidence(aiProb, humanProb, consistency) {
            const diff = Math.abs(aiProb - humanProb);
            const baseConfidence = Math.min(diff * 2, 0.95);
            const consistencyBonus = consistency * 0.2;
            
            return Math.min(baseConfidence + consistencyBonus, 0.99);
        }
        
        // Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù„Ù ÙƒÙ†Øµ
        function readFileAsText(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = (e) => resolve(e.target.result);
                reader.onerror = (e) => reject(e);
                reader.readAsText(file);
            });
        }
        
        // Ø­Ø°Ù Ù…Ù„Ù
        function deleteFile(index) {
            if (confirm(`Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù "${uploadedFiles[index].name}"ØŸ`)) {
                uploadedFiles.splice(index, 1);
                updateFilesGrid();
                saveToLocalStorage();
                showNotification('info', 'ğŸ—‘ï¸ ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù„Ù');
            }
        }
        
        // Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª
        function clearAllFiles() {
            if (uploadedFiles.length === 0) return;
            
            if (confirm(`Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª (${uploadedFiles.length} Ù…Ù„Ù)ØŸ`)) {
                uploadedFiles = [];
                analysisResults.clear();
                updateFilesGrid();
                saveToLocalStorage();
                showNotification('info', 'ğŸ§¹ ØªÙ… Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª');
            }
        }
        
        // Ø¹Ø±Ø¶ Ø³Ø¬Ù„ Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª
        function showAnalysisHistory(fileIndex) {
            const fileData = uploadedFiles[fileIndex];
            if (!fileData || fileData.analyses.length === 0) return;
            
            let historyHtml = `<h3 style="margin-bottom: 1rem; color: var(--primary-light);">Ø³Ø¬Ù„ ØªØ­Ù„ÙŠÙ„Ø§Øª: ${fileData.name}</h3>`;
            
            fileData.analyses.forEach((analysis, i) => {
                const aiPercent = Math.round(analysis.aiProbability * 100);
                const humanPercent = Math.round(analysis.humanProbability * 100);
                const date = new Date(analysis.timestamp).toLocaleString('ar-SA');
                
                historyHtml += `
                    <div style="background: var(--glass); padding: 1rem; border-radius: var(--radius-md); margin-bottom: 1rem;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <span style="color: var(--light); font-weight: 600;">
                                Ø§Ù„ØªØ­Ù„ÙŠÙ„ #${i + 1}
                                ${analysis.reanalysis ? '(Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù„ÙŠÙ„)' : ''}
                            </span>
                            <span style="color: var(--gray); font-size: 0.9rem;">${date}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--accent);">
                                <i class="fas fa-robot"></i>
                                ${aiPercent}% Ø°ÙƒÙŠ
                            </span>
                            <span style="color: var(--secondary);">
                                <i class="fas fa-user"></i>
                                ${humanPercent}% Ø¨Ø´Ø±ÙŠ
                            </span>
                        </div>
                        <div style="margin-top: 0.5rem; color: var(--light); opacity: 0.8; font-size: 0.9rem;">
                            Ø§Ù„Ø«Ù‚Ø©: ${Math.round(analysis.confidence * 100)}% | 
                            Ø§Ù„ÙƒÙ„Ù…Ø§Øª: ${analysis.wordCount} | 
                            Ø§Ù„Ù„ØºØ©: ${analysis.language}
                        </div>
                    </div>
                `;
            });
            
            alert(historyHtml.replace(/<br\s*\/?>/gi, '\n'));
        }
        
        // Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª
        function compareAnalyses(fileIndex) {
            const fileData = uploadedFiles[fileIndex];
            if (!fileData || fileData.analyses.length < 2) return;
            
            const analyses = fileData.analyses;
            let comparisonHtml = `<h3 style="margin-bottom: 1rem; color: var(--primary-light);">Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª: ${fileData.name}</h3>`;
            
            // Ø¥ÙŠØ¬Ø§Ø¯ Ø§Ù„ØªØºÙŠØ±Ø§Øª
            const changes = [];
            for (let i = 1; i < analyses.length; i++) {
                const prev = analyses[i - 1];
                const curr = analyses[i];
                
                const aiChange = (curr.aiProbability - prev.aiProbability) * 100;
                const humanChange = (curr.humanProbability - prev.humanProbability) * 100;
                
                if (Math.abs(aiChange) > 5 || Math.abs(humanChange) > 5) {
                    changes.push({
                        from: i,
                        to: i + 1,
                        aiChange: aiChange.toFixed(1),
                        humanChange: humanChange.toFixed(1)
                    });
                }
            }
            
            if (changes.length > 0) {
                comparisonHtml += `<div style="background: rgba(6, 214, 160, 0.1); padding: 1rem; border-radius: var(--radius-md); margin-bottom: 1rem;">
                    <strong>ğŸ”„ ØªØºÙŠÙŠØ±Ø§Øª Ù…Ù„Ø­ÙˆØ¸Ø©:</strong><br>`;
                
                changes.forEach(change => {
                    comparisonHtml += `Ù…Ù† ØªØ­Ù„ÙŠÙ„ ${change.from} Ø¥Ù„Ù‰ ${change.to}:<br>
                    Ø§Ù„Ø°ÙƒØ§Ø¡: ${change.aiChange}% | Ø§Ù„Ø¨Ø´Ø±ÙŠØ©: ${change.humanChange}%<br>`;
                });
                
                comparisonHtml += `</div>`;
            }
            
            // ØªÙˆØµÙŠØ©
            const latest = analyses[analyses.length - 1];
            let recommendation = '';
            
            if (latest.aiProbability > 0.8) {
                recommendation = 'ğŸ”´ <strong>Ù†Øµ Ø°ÙƒÙŠ Ø¨ÙˆØ¶ÙˆØ­</strong> - Ø§Ø­ØªÙ…Ø§Ù„ÙŠØ© Ø¹Ø§Ù„ÙŠØ© Ø¬Ø¯Ø§Ù‹ Ù„Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ';
            } else if (latest.humanProbability > 0.8) {
                recommendation = 'ğŸŸ¢ <strong>Ù†Øµ Ø¨Ø´Ø±ÙŠ Ø¨ÙˆØ¶ÙˆØ­</strong> - Ø§Ø­ØªÙ…Ø§Ù„ÙŠØ© Ø¹Ø§Ù„ÙŠØ© Ø¬Ø¯Ø§Ù‹ Ù„Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¨Ø´Ø±ÙŠØ©';
            } else {
                recommendation = 'ğŸŸ¡ <strong>Ù†Øµ Ù…Ø®ØªÙ„Ø·</strong> - ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø®ØµØ§Ø¦Øµ Ù…Ù† ÙƒÙ„Ø§ Ø§Ù„Ù…ØµØ¯Ø±ÙŠÙ†';
            }
            
            comparisonHtml += `<div style="background: var(--glass); padding: 1rem; border-radius: var(--radius-md);">
                ${recommendation}<br>
                <small style="color: var(--light); opacity: 0.7;">Ø§Ù„Ø¯Ù‚Ø©: ${DETECTION_ACCURACY}%</small>
            </div>`;
            
            alert(comparisonHtml.replace(/<br\s*\/?>/gi, '\n'));
        }
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©
        function showSupportedFiles() {
            const files = [
                'ğŸ“„ PDF - Ù…Ù„ÙØ§Øª Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ Ø§Ù„Ù…Ø­Ù…ÙˆÙ„Ø©',
                'ğŸ“ DOC/DOCX - Ù…Ø³ØªÙ†Ø¯Ø§Øª Microsoft Word',
                'ğŸ“Š XLS/XLSX - Ø¬Ø¯Ø§ÙˆÙ„ Microsoft Excel',
                'ğŸ“‹ CSV - Ù…Ù„ÙØ§Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†ØµÙŠØ©',
                'ğŸ“„ TXT - Ù…Ù„ÙØ§Øª Ø§Ù„Ù†Øµ Ø§Ù„Ø¨Ø³ÙŠØ·',
                'ğŸŒ HTML - ØµÙØ­Ø§Øª Ø§Ù„ÙˆÙŠØ¨',
                'ğŸ“ RTF - ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ù†Ø³Ù‚',
                'ğŸ“ MD - Ù…Ù„ÙØ§Øª Markdown'
            ];
            
            alert(`ğŸ“ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©:\n\n${files.join('\n')}\n\nğŸ“ Ø§Ù„Ø­Ø¬Ù… Ø§Ù„Ø£Ù‚ØµÙ‰: 500MB Ù„ÙƒÙ„ Ù…Ù„Ù`);
        }
        
        // Ø¹Ø±Ø¶ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªÙˆØ¶ÙŠØ­ÙŠØ©
        function showReanalysisDemo() {
            alert(`ğŸ”„ <strong>Ù…ÙŠØ²Ø© Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©:</strong>
            
            1. <strong>ØªØ­Ù„ÙŠÙ„ Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù…Ø±Ø§Ø­Ù„:</strong> Ø¥Ø¬Ø±Ø§Ø¡ ØªØ­Ù„ÙŠÙ„Ø§Øª Ù…ØªÙƒØ±Ø±Ø© Ù„Ù†ÙØ³ Ø§Ù„Ù…Ù„Ù
            2. <strong>Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬:</strong> Ø¹Ø±Ø¶ Ø§Ù„ØªØºÙŠØ±Ø§Øª Ø¨ÙŠÙ† Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ©
            3. <strong>Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¯Ù‚Ø©:</strong> ÙƒÙ„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù„ÙŠÙ„ ØªØ²ÙŠØ¯ Ù…Ù† Ø¯Ù‚Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø©
            4. <strong>ØªØªØ¨Ø¹ Ø§Ù„ØªØ·ÙˆØ±:</strong> Ø­ÙØ¸ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
            5. <strong>ØªØ­Ù„ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠ:</strong> Ù…Ù‚Ø§Ø±Ù†Ø© Ø¥Ø­ØµØ§Ø¦ÙŠØ© Ø¨ÙŠÙ† Ø§Ù„Ù†ØªØ§Ø¦Ø¬
            
            <em>ÙƒÙ„ Ù…Ù„Ù ÙŠÙ…ÙƒÙ† ØªØ­Ù„ÙŠÙ„Ù‡ ÙˆØ¥Ø¹Ø§Ø¯Ø© ØªØ­Ù„ÙŠÙ„Ù‡ âˆ Ù…Ø±Ø©!</em>`.replace(/<br\s*\/?>/gi, '\n'));
        }
        
        // ØªØ­Ù„ÙŠÙ„ Ø³Ø±ÙŠØ¹
        function startQuickAnalysis() {
            if (uploadedFiles.length === 0) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø±ÙØ¹ Ù…Ù„ÙØ§Øª Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }
            
            analyzeAll();
        }
        
        // Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
        function showAdvancedAnalysis() {
            showNotification('info', 'âš¡ Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…...');
            
            setTimeout(() => {
                alert(`ğŸ”¬ <strong>Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…:</strong>
                
                <strong>1. ØªØ­Ù„ÙŠÙ„ Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ø·Ø¨Ù‚Ø§Øª:</strong>
                â€¢ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù„ØºÙˆÙŠØ©
                â€¢ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
                â€¢ ØªØ­Ù„ÙŠÙ„ Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø¬Ù…Ù„Ø©
                â€¢ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ÙØ±Ø¯Ø§Øª ÙˆØ§Ù„ØªØ±Ø§ÙƒÙŠØ¨
                
                <strong>2. Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª Ù…ØªØ·ÙˆØ±Ø©:</strong>
                â€¢ 47 Ù…Ø¤Ø´Ø±Ø§Ù‹ Ù„Ù„ÙƒØ´Ù
                â€¢ ØªØ¹Ù„Ù… Ø¢Ù„ÙŠ Ù…ØªÙ‚Ø¯Ù…
                â€¢ ØªØ­Ù„ÙŠÙ„ Ø³ÙŠØ§Ù‚ÙŠ Ø°ÙƒÙŠ
                â€¢ Ø¹ÙˆØ§Ù…Ù„ ØªØµØ­ÙŠØ­ ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
                
                <strong>3. Ù…ÙŠØ²Ø§Øª ÙØ±ÙŠØ¯Ø©:</strong>
                â€¢ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø°ÙƒÙŠ
                â€¢ Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬
                â€¢ ØªØªØ¨Ø¹ Ø§Ù„ØªØ·ÙˆØ±
                â€¢ ØªÙ‚Ø§Ø±ÙŠØ± Ø¥Ø­ØµØ§Ø¦ÙŠØ© Ù…ÙØµÙ„Ø©
                
                <strong>ğŸ¯ Ø§Ù„Ø¯Ù‚Ø©: ${DETECTION_ACCURACY}%</strong>`.replace(/<br\s*\/?>/gi, '\n'));
            }, 500);
        }
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©
        function showDetailedResults() {
            if (uploadedFiles.length === 0 || !uploadedFiles.some(f => f.analyses.length > 0)) {
                alert('âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù„Ø¹Ø±Ø¶Ù‡Ø§. ÙŠØ±Ø¬Ù‰ ØªØ­Ù„ÙŠÙ„ Ù…Ù„ÙØ§Øª Ø£ÙˆÙ„Ø§Ù‹.');
                return;
            }
            
            let resultsHtml = `<h2 style="color: var(--primary-light); margin-bottom: 1rem;">ğŸ“Š Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©</h2>`;
            
            uploadedFiles.forEach((fileData, index) => {
                if (fileData.analyses.length > 0) {
                    const latest = fileData.analyses[fileData.analyses.length - 1];
                    const aiPercent = Math.round(latest.aiProbability * 100);
                    
                    resultsHtml += `
                        <div style="background: var(--glass); padding: 1rem; border-radius: var(--radius-md); margin-bottom: 1rem;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <strong style="color: var(--light);">${fileData.name}</strong>
                                <span style="color: ${aiPercent > 50 ? 'var(--accent)' : 'var(--secondary)'};">
                                    ${aiPercent > 50 ? 'ğŸ¤–' : 'ğŸ‘¤'} ${aiPercent}%
                                </span>
                            </div>
                            <div style="color: var(--light); opacity: 0.8; font-size: 0.9rem;">
                                Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª: ${fileData.analyses.length} | 
                                Ø§Ù„ÙƒÙ„Ù…Ø§Øª: ${latest.wordCount} | 
                                Ø§Ù„Ù„ØºØ©: ${latest.language}
                            </div>
                        </div>
                    `;
                }
            });
            
            alert(resultsHtml.replace(/<br\s*\/?>/gi, '\n'));
        }
        
        // ØªØµØ¯ÙŠØ± Ø§Ù„Ù†ØªØ§Ø¦Ø¬
        function exportResults() {
            const filesWithAnalyses = uploadedFiles.filter(f => f.analyses.length > 0);
            
            if (filesWithAnalyses.length === 0) {
                alert('âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù„Ù„ØªØµØ¯ÙŠØ±');
                return;
            }
            
            let csvContent = 'data:text/csv;charset=utf-8,';
            csvContent += 'Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù,Ù†Ø³Ø¨Ø© Ø§Ù„Ø°ÙƒØ§Ø¡,Ù†Ø³Ø¨Ø© Ø§Ù„Ø¨Ø´Ø±ÙŠØ©,Ø§Ù„Ù„ØºØ©,Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª,Ø¹Ø¯Ø¯ Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª,Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«\n';
            
            filesWithAnalyses.forEach(fileData => {
                const latest = fileData.analyses[fileData.analyses.length - 1];
                csvContent += `"${fileData.name}",${Math.round(latest.aiProbability * 100)}%,${Math.round(latest.humanProbability * 100)}%,${latest.language},${latest.wordCount},${fileData.analyses.length},${new Date(latest.timestamp).toLocaleDateString('ar-SA')}\n`;
            });
            
            const encodedUri = encodeURI(csvContent);
            const link = document.createElement('a');
            link.setAttribute('href', encodedUri);
            link.setAttribute('download', `ai_detector_results_${new Date().toISOString().split('T')[0]}.csv`);
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            showNotification('success', 'ğŸ“¥ ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø¨Ù†Ø¬Ø§Ø­');
        }
        
        // Ø¥Ø¸Ù‡Ø§Ø± Ù‚Ø³Ù… Ø§Ù„Ù…Ù„ÙØ§Øª
        function showFilesSection() {
            document.getElementById('filesSection').style.display = 'block';
            document.getElementById('filesSection').scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        // Ø¥Ø¸Ù‡Ø§Ø± Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ‚Ø¯Ù…
        function showProgress() {
            document.getElementById('progressContainer').style.display = 'block';
            document.getElementById('scanningAnimation').style.display = 'block';
        }
        
        // ØªØ­Ø¯ÙŠØ« Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ‚Ø¯Ù…
        function updateProgress(percentage) {
            const progressFill = document.getElementById('progressFill');
            const progressText = document.getElementById('progressText');
            
            const percent = Math.round(percentage * 100);
            progressFill.style.width = `${percent}%`;
            progressText.textContent = `${percent}%`;
        }
        
        // Ø¥Ø®ÙØ§Ø¡ Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ‚Ø¯Ù…
        function hideProgress() {
            setTimeout(() => {
                document.getElementById('progressContainer').style.display = 'none';
                document.getElementById('scanningAnimation').style.display = 'none';
            }, 1000);
        }
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
        function showNotification(type, message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background: ${type === 'success' ? 'var(--secondary)' : type === 'error' ? 'var(--accent)' : 'var(--primary)'};
                color: white;
                padding: 1rem 2rem;
                border-radius: var(--radius-md);
                box-shadow: var(--shadow-lg);
                z-index: 9999;
                animation: slideIn 0.3s ease;
            `;
            
            notification.innerHTML = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }
        
        // ÙƒØ´Ù Ø§Ù„Ù„ØºØ©
        function detectLanguage(text) {
            const arabicChars = (text.match(/[\u0600-\u06FF]/g) || []).length;
            const englishChars = (text.match(/[A-Za-z]/g) || []).length;
            
            return arabicChars > englishChars ? 'ar' : 'en';
        }
        
        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ù…Ù„Ù
        function getFileIcon(filename) {
            const ext = filename.split('.').pop().toLowerCase();
            
            switch(ext) {
                case 'pdf': return 'fas fa-file-pdf';
                case 'doc':
                case 'docx': return 'fas fa-file-word';
                case 'xls':
                case 'xlsx':
                case 'csv': return 'fas fa-file-excel';
                case 'txt': return 'fas fa-file-alt';
                case 'html':
                case 'htm': return 'fas fa-file-code';
                case 'md': return 'fas fa-file-signature';
                case 'rtf': return 'fas fa-file-contract';
                default: return 'fas fa-file';
            }
        }
        
        // ØªÙ†Ø³ÙŠÙ‚ Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Ø¨Ø§ÙŠØª';
            const k = 1024;
            const sizes = ['Ø¨Ø§ÙŠØª', 'ÙƒÙŠÙ„ÙˆØ¨Ø§ÙŠØª', 'Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª', 'Ø¬ÙŠØ¬Ø§Ø¨Ø§ÙŠØª'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
        
        // ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØªØ§Ø±ÙŠØ®
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleString('ar-SA', {
                hour: '2-digit',
                minute: '2-digit',
                day: '2-digit',
                month: '2-digit'
            });
        }
        
        // Ø­ÙØ¸ ÙÙŠ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ
        function saveToLocalStorage() {
            try {
                const data = {
                    files: uploadedFiles.map(f => ({
                        ...f,
                        file: null, // Ù„Ø§ Ù†Ø­ÙØ¸ ÙƒØ§Ø¦Ù† File
                        analyses: f.analyses
                    }))
                };
                localStorage.setItem('aiDetectorData', JSON.stringify(data));
            } catch (error) {
                console.error('Error saving to localStorage:', error);
            }
        }
        
        // ØªØ­Ù…ÙŠÙ„ Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ
        function loadFromLocalStorage() {
            try {
                const saved = localStorage.getItem('aiDetectorData');
                if (saved) {
                    const data = JSON.parse(saved);
                    uploadedFiles = data.files || [];
                }
            } catch (error) {
                console.error('Error loading from localStorage:', error);
            }
        }
        
        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        function resetApp() {
            if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ØŸ Ø³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.')) {
                localStorage.clear();
                uploadedFiles = [];
                analysisResults.clear();
                updateFilesGrid();
                showNotification('info', 'ğŸ”„ ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚');
            }
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
        function updateUI() {
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ù†Ø´Ø·
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.toggle('active', tab.textContent.includes(
                    currentTab === 'upload' ? 'Ø±ÙØ¹' : 
                    currentTab === 'analyze' ? 'Ø§Ù„ØªØ­Ù„ÙŠÙ„' : 'Ø§Ù„Ù†ØªØ§Ø¦Ø¬'
                ));
            });
        }
        
        // ØªØ¨Ø¯ÙŠÙ„ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù„Ù
        function toggleFileDetails(fileId) {
            const card = document.getElementById(`file-${fileId}`);
            card.classList.toggle('expanded');
        }
        
        // Ø¥Ø¶Ø§ÙØ© Ø£Ù†Ù…Ø§Ø· CSS Ù„Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ØªØ­Ø±ÙƒØ©
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>